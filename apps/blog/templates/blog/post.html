{% extends 'blog/base.html' %}
{% block title %}PostItem{% endblock %}
{% block content %}
<div class="container">
    <h1 class="display-6">Post</h1>
    <div class="mx-auto post-main">
        <form action="{{ url_for('blog.post_item') }}" method="post" enctype="multipart/form-data" novalidate="novalidate">
            {% for message in get_flashed_messages() %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}

            {% for error in form.title.errors %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ error }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}

            {% for error in form.body.errors %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ error }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}

            {% for error in form.is_public.errors %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                {{ error }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}

            {{ form.csrf_token }}

            <div class="mb-3">
                <label class="form-label" for="file1">サムネイル画像</label>
                <div>
                    {{ form.thumbnail_image(id="file1", class="form-control") }}
                </div>
            </div>

            <div class="mb-3">
                <label class="form-label" for="title1">タイトル</label>
                {{ form.title(id='title1', placeholder='タイトル', class="form-control post-main-input") }}
            </div>

            <div class="mb-3">
                <label class="form-label" for="category1">カテゴリ</label>
                {{ form.category(id='category1', placeholder='カテゴリ', class="form-control post-main-input") }}
            </div>

            <div class="mb-3">
                <label class="form-label" for="content1">カテゴリ</label>
                {{ form.body(id='content1', placeholder='本文', class="form-control post-main-input", rows=15) }}
            </div>

            <div class="mb-3 d-flex justify-content-end">
                <label class="form-label" for="public1">
                    公開する {{ form.is_public(id='public1', placeholder='公開', class="") }}
                </label>
            </div>

            {{ form.submit(value='Post', class="btn btn-success float-end post-main-input") }}
        </form>
    </div>
</div>
{% endblock %}